<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="vi">
<head>
    <meta charset="utf-8"/>
    <title>Sidebar Fragment</title>
</head>
<body>
    <aside th:fragment="sidebar" class="sidebar fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-lg transform md:translate-x-0 transition-transform duration-300 ease-in-out">
        <div class="flex items-center justify-center h-16 px-4 bg-primary">
            <h1 class="text-xl font-bold text-white flex items-center">
                <i class="fas fa-home mr-2"></i>
                Bảng điều khiển
            </h1>
        </div>
        <div class="px-4 py-6">
            <div class="flex items-center px-4 py-3 bg-blue-50 rounded-lg mb-6" sec:authorize="isAuthenticated()">
                <div class="flex-shrink-0">
                    <i class="fas fa-user-circle text-primary text-3xl"></i>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900" sec:authentication="name"></p>
                    <p class="text-xs text-gray-500">Tài khoản người dùng</p>
                </div>
            </div>

            <nav>
                <div class="mb-4">
                    <h3 class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">Menu chính</h3>
                    <div class="mt-2 space-y-1">
                        <a href="/dashboard" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-primary bg-blue-50 rounded-lg">
                            <i class="fas fa-tachometer-alt mr-3"></i>
                            Bảng điều khiển
                        </a>
                        <a href="/homestay" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-search mr-3"></i>
                            Tìm kiếm Homestay
                        </a>
                        <a href="/travels" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-route mr-3"></i>
                            Tìm kiếm Tour
                        </a>
                        <a href="/user/bookings" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-calendar-alt mr-3"></i>
                            Lịch sử đặt phòng
                        </a>
                    </div>
                </div>

                <div th:if="${isAdmin}" class="mb-4">
                    <h3 class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">Quản trị</h3>
                    <div class="mt-2 space-y-1">
                        <a href="/admin/homestay" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-home mr-3"></i>
                            Quản lý Homestay
                        </a>
                        <a href="/admin/travel" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-route mr-3"></i>
                            Quản lý Tour du lịch
                        </a>
                        <a href="/admin/users" class="nav-link flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-primary rounded-lg">
                            <i class="fas fa-users mr-3"></i>
                            Quản lý người dùng
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </aside>
</body>
</html>